// add-student-grades.js
const db = require('./database');

console.log('üìù –î–æ–±–∞–≤–ª—è–µ–º –æ—Ü–µ–Ω–∫–∏ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤...');

// –î–æ–±–∞–≤–ª—è–µ–º –æ—Ü–µ–Ω–∫–∏ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–∞ –ü–µ—Ç—Ä–æ–≤–æ–π –ú–∞—Ä–∏–∏ (ID: 2)
const grades = [
    [2, 1, 5, 'exam', '2024-01-15', 1],      // –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ - —ç–∫–∑–∞–º–µ–Ω
    [2, 1, 4, 'coursework', '2024-01-10', 1], // –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ - –∫—É—Ä—Å–æ–≤–∞—è
    [2, 2, 5, 'test', '2024-01-20', 2],       // –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö - –∑–∞—á—ë—Ç
    [2, 3, 4, 'exam', '2024-01-25', 3],       // –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ - —ç–∫–∑–∞–º–µ–Ω
    [2, 4, 5, 'practice', '2024-02-01', 1],   // –í–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ - –ø—Ä–∞–∫—Ç–∏–∫–∞
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ—Ü–µ–Ω–∫–∏ –∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
    [1, 1, 3, 'exam', '2024-01-15', 1],       // –ò–≤–∞–Ω–æ–≤ - –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
    [3, 2, 4, 'test', '2024-01-20', 2],       // –°–∏–¥–æ—Ä–æ–≤ - –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    [4, 3, 5, 'exam', '2024-01-25', 3]        // –ö–æ–∑–ª–æ–≤–∞ - –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞
];

let completed = 0;

grades.forEach(grade => {
    db.run(
        `INSERT OR IGNORE INTO grades (student_id, subject_id, grade, grade_type, date, teacher_id) 
         VALUES (?, ?, ?, ?, ?, ?)`,
        grade,
        function(err) {
            if (err) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—Ü–µ–Ω–∫–∏:', err);
            } else {
                console.log(`‚úÖ –û—Ü–µ–Ω–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞: —Å—Ç—É–¥–µ–Ω—Ç ${grade[0]}, –ø—Ä–µ–¥–º–µ—Ç ${grade[1]}, –æ—Ü–µ–Ω–∫–∞ ${grade[2]}`);
            }
            completed++;
            
            if (completed === grades.length) {
                console.log('üéâ –í—Å–µ –æ—Ü–µ–Ω–∫–∏ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã!');
                console.log('\nüìä –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª "–û—Ü–µ–Ω–∫–∏" –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–∞ –ü–µ—Ç—Ä–æ–≤–æ–π –ú–∞—Ä–∏–∏');
                process.exit(0);
            }
        }
    );
});