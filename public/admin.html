<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ - –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –∑–∞—á–µ—Ç–∫–∞</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="main-container">
        <div class="container-fluid p-0">
            <!-- –•–µ–¥–µ—Ä -->
            <header class="header">
                <div class="row align-items-center">
                    <div class="col">
                        <h1 class="mb-0">
                            <i class="bi bi-shield-lock"></i>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
                        </h1>
                    </div>
                    <div class="col-auto">
                        <div class="d-flex align-items-center gap-3">
                            <span class="fw-bold text-dark" id="userName"></span>
                            <button onclick="window.location.href='index.html'" class="btn btn-outline-primary btn-sm">
                                <i class="bi bi-house"></i>–ù–∞ –≥–ª–∞–≤–Ω—É—é
                            </button>
                            <button onclick="logout()" class="btn btn-outline-danger btn-sm">
                                <i class="bi bi-box-arrow-right"></i>–í—ã–π—Ç–∏
                            </button>
                        </div>
                    </div>
                </div>
            </header>

            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
            <nav class="mb-4">
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" onclick="showSection('users')">
                            <i class="bi bi-people"></i>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('statistics')">
                            <i class="bi bi-graph-up"></i>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('management')">
                            <i class="bi bi-gear"></i>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('system')">
                            <i class="bi bi-hdd"></i>–°–∏—Å—Ç–µ–º–∞
                        </a>
                    </li>
                </ul>
            </nav>

            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
            <main>
                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ -->
                <div id="users" class="section active">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="mb-0"><i class="bi bi-people"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
                        </div>
                        <div class="card-body">
                            <div class="row mb-4">
                                <div class="col-md-8">
                                    <h5 class="text-muted mb-3">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h5>
                                </div>
                                <div class="col-md-4 text-end">
                                    <button class="btn btn-primary" onclick="showAddUserModal()">
                                        <i class="bi bi-person-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                                    </button>
                                </div>
                            </div>
                            
                            <div id="usersList" class="text-center py-4">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                                </div>
                                <p class="mt-2">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</p>
                            </div>
                        </div>
                    </div>
                </div>

               <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
<div id="statistics" class="section">
    <div class="card">
        <div class="card-header">
            <h2 class="mb-0"><i class="bi bi-graph-up"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h2>
        </div>
        <div class="card-body">
            <!-- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è -->
            <div class="row mb-4">
                <div class="col-md-8">
                    <h5 class="text-muted">–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã</h5>
                </div>
                <div class="col-md-4 text-end">
                    <button class="btn btn-outline-primary" onclick="refreshStatistics()">
                        <i class="bi bi-arrow-clockwise"></i> –û–±–Ω–æ–≤–∏—Ç—å
                    </button>
                </div>
            </div>
            
            <div id="statisticsContent">
                                <div class="stats-grid">
                                    <div class="stat-card">
                                        <h3>üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h3>
                                        <p id="usersCount">0</p>
                                        <small class="text-muted">–í—Å–µ–≥–æ –≤ —Å–∏—Å—Ç–µ–º–µ</small>
                                    </div>
                                    <div class="stat-card">
                                        <h3>üéì –°—Ç—É–¥–µ–Ω—Ç—ã</h3>
                                        <p id="studentsCount">0</p>
                                        <small class="text-muted">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ</small>
                                    </div>
                                    <div class="stat-card">
                                        <h3>üë®‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏</h3>
                                        <p id="teachersCount">0</p>
                                        <small class="text-muted">–í —Å–∏—Å—Ç–µ–º–µ</small>
                                    </div>
                                    <div class="stat-card">
                                        <h3>üìö –ü—Ä–µ–¥–º–µ—Ç—ã</h3>
                                        <p id="subjectsCount">0</p>
                                        <small class="text-muted">–í —É—á–µ–±–Ω–æ–º –ø–ª–∞–Ω–µ</small>
                                    </div>
                                </div>

                                <div class="row mt-4">
                    <div class="col-12">
                        <div class="card border-primary">
                            <div class="card-header bg-primary text-white">
                                <h6 class="mb-0"><i class="bi bi-file-pdf"></i> –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤ PDF</h6>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h6>–û—Ç—á–µ—Ç—ã –ø–æ —Å—Ç—É–¥–µ–Ω—Ç–∞–º</h6>
                                        <p class="text-muted small">–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ PDF –æ—Ç—á–µ—Ç—ã –ø–æ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</p>
                                        <button class="btn btn-pdf w-100" onclick="showStudentReportsModal()">
                                            <i class="bi bi-person"></i> –û—Ç—á–µ—Ç—ã —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
                                        </button>
                                    </div>
                                    <div class="col-md-6">
                                        <h6>–û—Ç—á–µ—Ç—ã –ø–æ –≥—Ä—É–ø–ø–∞–º</h6>
                                        <p class="text-muted small">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ –ø–æ —É—á–µ–±–Ω—ã–º –≥—Ä—É–ø–ø–∞–º</p>
                                        <button class="btn btn-pdf w-100" onclick="showGroupReportsModal()">
                                            <i class="bi bi-people"></i> –û—Ç—á–µ—Ç—ã –≥—Ä—É–ø–ø
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                                
                                <div class="row mt-4">
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-header">
                                                <h6 class="mb-0"><i class="bi bi-journal-check"></i> –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫</h6>
                                            </div>
                                            <div class="card-body">
                                                <div id="gradesDistribution" class="text-center py-3">
                                                    <div class="spinner-border spinner-border-sm" role="status">
                                                        <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                                                    </div>
                                                    <p class="mt-2 small">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ü–µ–Ω–æ–∫...</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-header">
                                                <h6 class="mb-0"><i class="bi bi-calendar"></i> –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –º–µ—Å—è—Ü–∞–º</h6>
                                            </div>
                                            <div class="card-body">
                                                <div id="monthlyStats" class="text-center py-3">
                                                    <div class="spinner-border spinner-border-sm" role="status">
                                                        <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                                                    </div>
                                                    <p class="mt-2 small">–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
                <div id="management" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="mb-0"><i class="bi bi-gear"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π</h2>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <div class="card h-100 border-0 shadow-sm">
                                        <div class="card-body text-center">
                                            <div class="mb-3">
                                                <i class="bi bi-database display-4 text-primary"></i>
                                            </div>
                                            <h5>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏</h5>
                                            <p class="text-muted">–ò–º–ø–æ—Ä—Ç –∏ —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º—ã</p>
                                            <button class="btn btn-outline-primary w-100" onclick="showDataManagement()">
                                                <i class="bi bi-hdd"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ë–î
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="card h-100 border-0 shadow-sm">
                                        <div class="card-body text-center">
                                            <div class="mb-3">
                                                <i class="bi bi-clock-history display-4 text-success"></i>
                                            </div>
                                            <h5>–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏</h5>
                                            <p class="text-muted">–°–æ–∑–¥–∞–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤</p>
                                            <button class="btn btn-outline-success w-100" onclick="showBackupManagement()">
                                                <i class="bi bi-cloud-arrow-down"></i> –ë—ç–∫–∞–ø—ã
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="card h-100 border-0 shadow-sm">
                                        <div class="card-body text-center">
                                            <div class="mb-3">
                                                <i class="bi bi-graph-up-arrow display-4 text-info"></i>
                                            </div>
                                            <h5>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h5>
                                            <p class="text-muted">–ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</p>
                                            <button class="btn btn-outline-info w-100" onclick="showAnalytics()">
                                                <i class="bi bi-bar-chart"></i> –û—Ç—á–µ—Ç—ã
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <div class="card h-100 border-0 shadow-sm">
                                        <div class="card-body text-center">
                                            <div class="mb-3">
                                                <i class="bi bi-shield-check display-4 text-warning"></i>
                                            </div>
                                            <h5>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h5>
                                            <p class="text-muted">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã</p>
                                            <button class="btn btn-outline-warning w-100" onclick="showSecuritySettings()">
                                                <i class="bi bi-shield-lock"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –°–∏—Å—Ç–µ–º–∞ -->
                <div id="system" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="mb-0"><i class="bi bi-hdd"></i> –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card bg-light border-0">
                                        <div class="card-body">
                                            <h6 class="card-title"><i class="bi bi-info-circle"></i> –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ</h6>
                                            <div id="systemInfo">
                                                <p class="mb-2"><strong>–í–µ—Ä—Å–∏—è:</strong> <span id="systemVersion">1.0.0</span></p>
                                                <p class="mb-2"><strong>–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:</strong> <span id="dbType">SQLite</span></p>
                                                <p class="mb-2"><strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–Ω–ª–∞–π–Ω:</strong> <span id="onlineUsers">1</span></p>
                                                <p class="mb-0"><strong>–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:</strong> <span id="uptime">0—á 0–º</span></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card bg-light border-0">
                                        <div class="card-body">
                                            <h6 class="card-title"><i class="bi bi-speedometer2"></i> –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</h6>
                                            <div id="performanceInfo">
                                                <p class="mb-2"><strong>–ó–∞–≥—Ä—É–∑–∫–∞ CPU:</strong> <span class="badge bg-success">–ù–∏–∑–∫–∞—è</span></p>
                                                <p class="mb-2"><strong>–ü–∞–º—è—Ç—å:</strong> <span class="badge bg-success">–û–ø—Ç–∏–º–∞–ª—å–Ω–æ</span></p>
                                                <p class="mb-2"><strong>–î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ:</strong> <span class="badge bg-success">–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ</span></p>
                                                <p class="mb-0"><strong>–°—Ç–∞—Ç—É—Å:</strong> <span class="badge bg-success">–†–∞–±–æ—Ç–∞–µ—Ç</span></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-4">
                                <h6 class="text-muted mb-3">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h6>
                                <div class="d-flex gap-2 flex-wrap">
                                    <button class="btn btn-outline-primary btn-sm" onclick="clearCache()">
                                        <i class="bi bi-arrow-clockwise"></i> –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
                                    </button>
                                    <button class="btn btn-outline-success btn-sm" onclick="optimizeDatabase()">
                                        <i class="bi bi-lightning"></i> –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ë–î
                                    </button>
                                    <button class="btn btn-outline-info btn-sm" onclick="generateReport()">
                                        <i class="bi bi-file-text"></i> –°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç
                                    </button>
                                    <button class="btn btn-outline-warning btn-sm" onclick="showLogs()">
                                        <i class="bi bi-list-check"></i> –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div class="modal fade" id="addUserModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="bi bi-person-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addUserForm">
                        <div class="mb-3">
                            <label class="form-label">–õ–æ–≥–∏–Ω:</label>
                            <input type="text" class="form-control" id="newUsername" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">–ü–∞—Ä–æ–ª—å:</label>
                            <input type="password" class="form-control" id="newPassword" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">–†–æ–ª—å:</label>
                            <select class="form-select" id="newRole" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å</option>
                                <option value="student">–°—Ç—É–¥–µ–Ω—Ç</option>
                                <option value="teacher">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</option>
                                <option value="admin">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                            </select>
                        </div>
                        <div id="studentFields" style="display: none;">
                            <div class="mb-3">
                                <label class="form-label">–ù–æ–º–µ—Ä –∑–∞—á–µ—Ç–∫–∏:</label>
                                <input type="text" class="form-control" id="newStudentCard">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">–ì—Ä—É–ø–ø–∞:</label>
                                <select class="form-select" id="newGroupId">
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
                    <button type="button" class="btn btn-primary" onclick="addNewUser()">–î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        let token = localStorage.getItem('token');
        let currentUser = null;

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        async function checkAuth() {
            if (!token) {
                window.location.href = 'login.html';
                return;
            }

            try {
                const response = await fetch('/api/auth/me', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                const result = await response.json();
                
                if (result.success) {
                    currentUser = result.user;
                    console.log('‚úÖ –ê–¥–º–∏–Ω –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:', currentUser);
                    
                    if (currentUser.role !== 'admin') {
                        console.log('‚ùå –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω, —Ä–æ–ª—å:', currentUser.role);
                        alert('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω! –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤.');
                        window.location.href = 'index.html';
                        return;
                    }
                    
                    document.getElementById('userName').textContent = currentUser.username;
                    loadUsers();
                    loadStatistics();
                    loadSystemInfo();
                } else {
                    console.log('‚ùå –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∞');
                    localStorage.removeItem('token');
                    window.location.href = 'login.html';
                }
            } catch (error) {
                console.error('‚ùå Auth error:', error);
                localStorage.removeItem('token');
                window.location.href = 'login.html';
            }
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å–µ–∫—Ü–∏—è–º
        function showSection(sectionName) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å–µ–∫—Ü–∏–∏
            const sections = document.getElementsByClassName('section');
            for (let i = 0; i < sections.length; i++) {
                sections[i].classList.remove('active');
            }

            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => link.classList.remove('active'));

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å–µ–∫—Ü–∏—é
            document.getElementById(sectionName).classList.add('active');
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –Ω–∞–∂–∞—Ç–æ–π –≤–∫–ª–∞–¥–∫–µ
            event.currentTarget.classList.add('active');

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–µ–∫—Ü–∏–∏
            switch(sectionName) {
                case 'users':
                    loadUsers();
                    break;
                case 'statistics':
                    loadStatistics();
                    break;
                case 'system':
                    loadSystemInfo();
                    break;
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        async function loadUsers() {
            try {
                const response = await fetch('/api/admin/users', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                const result = await response.json();
                
                if (result.success) {
                    displayUsers(result.data);
                } else {
                    document.getElementById('usersList').innerHTML = `
                        <div class="alert alert-danger">
                            <h5>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h5>
                            <p>${result.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}</p>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error loading users:', error);
                document.getElementById('usersList').innerHTML = `
                    <div class="alert alert-danger">
                        <h5>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h5>
                        <p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.</p>
                    </div>
                `;
            }
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
function displayUsers(users) {
    const usersList = document.getElementById('usersList');
    
    if (users.length === 0) {
        usersList.innerHTML = `
            <div class="alert alert-info">
                <h5>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h5>
                <p>–í —Å–∏—Å—Ç–µ–º–µ –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.</p>
            </div>
        `;
        return;
    }

    let html = `
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>–õ–æ–≥–∏–Ω</th>
                        <th>–†–æ–ª—å</th>
                        <th>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</th>
                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody>
    `;

    users.forEach(user => {
        let roleBadge = '';
        switch(user.role) {
            case 'admin': 
                roleBadge = '<span class="role-badge role-admin">–ê–¥–º–∏–Ω</span>'; 
                break;
            case 'teacher': 
                roleBadge = '<span class="role-badge role-teacher">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</span>'; 
                break;
            case 'student': 
                roleBadge = '<span class="role-badge role-student">–°—Ç—É–¥–µ–Ω—Ç</span>'; 
                break;
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ PDF —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
        const pdfButtons = user.role === 'student' ? `
            <button class="btn btn-outline-success btn-sm" onclick="exportStudentToPDF(${user.id})" title="PDF –æ—Ç—á–µ—Ç">
                <i class="bi bi-file-pdf"></i> PDF
            </button>
        ` : '';
        
        html += `
            <tr>
                <td>${user.id}</td>
                <td>
                    <strong>${user.username}</strong>
                    ${user.student_name ? `<br><small class="text-muted">${user.student_name}</small>` : ''}
                </td>
                <td>${roleBadge}</td>
                <td>${new Date(user.created_at).toLocaleDateString('ru-RU')}</td>
                <td>
                    <div class="btn-group btn-group-sm">
                        <button class="btn btn-outline-primary" onclick="editUser(${user.id})" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">
                            <i class="bi bi-pencil"></i>
                        </button>
                        ${pdfButtons}
                        <button class="btn btn-outline-danger" onclick="deleteUser(${user.id})" ${user.role === 'admin' ? 'disabled' : ''} title="–£–¥–∞–ª–∏—Ç—å">
                            <i class="bi bi-trash"></i>
                        </button>
                    </div>
                </td>
            </tr>
        `;
    });

    html += '</tbody></table></div>';
    usersList.innerHTML = html;
}

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        async function loadStatistics() {
            try {
                const response = await fetch('/api/statistics/overview', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                const result = await response.json();
                
                if (result.success) {
                    const stats = result.data;
                    document.getElementById('usersCount').textContent = stats.users || 0;
                    document.getElementById('studentsCount').textContent = stats.students || 0;
                    document.getElementById('teachersCount').textContent = stats.teachers || 0;
                    document.getElementById('subjectsCount').textContent = stats.subjects || 0;
                }
            } catch (error) {
                console.error('Error loading statistics:', error);
            }

            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫
            loadGradesDistribution();
            loadMonthlyStats();
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ü–µ–Ω–æ–∫
        async function loadGradesDistribution() {
            try {
                const response = await fetch('/api/statistics/grades-distribution', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                const result = await response.json();
                
                if (result.success) {
                    let html = '';
                    result.data.forEach(item => {
                        const percentage = Math.round(item.percentage) || 0;
                        html += `
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <span>–û—Ü–µ–Ω–∫–∞ ${item.grade}</span>
                                <div class="d-flex align-items-center gap-2">
                                    <div class="progress" style="width: 100px;">
                                        <div class="progress-bar" style="width: ${percentage}%"></div>
                                    </div>
                                    <small class="text-muted">${item.count} (${percentage}%)</small>
                                </div>
                            </div>
                        `;
                    });
                    document.getElementById('gradesDistribution').innerHTML = html;
                }
            } catch (error) {
                document.getElementById('gradesDistribution').innerHTML = '<p class="text-muted">–î–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã</p>';
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ—Å—è—á–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        async function loadMonthlyStats() {
            try {
                const response = await fetch('/api/statistics/monthly', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                const result = await response.json();
                
                if (result.success && result.data.length > 0) {
                    let html = '';
                    result.data.slice(0, 5).forEach(stat => {
                        html += `
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <small>${stat.month}</small>
                                <div>
                                    <span class="badge bg-primary">${Math.round(stat.average_grade * 100) / 100}</span>
                                    <small class="text-muted">(${stat.grade_count})</small>
                                </div>
                            </div>
                        `;
                    });
                    document.getElementById('monthlyStats').innerHTML = html;
                } else {
                    document.getElementById('monthlyStats').innerHTML = '<p class="text-muted">–î–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã</p>';
                }
            } catch (error) {
                document.getElementById('monthlyStats').innerHTML = '<p class="text-muted">–î–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã</p>';
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
        function loadSystemInfo() {
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Å–∏—Å—Ç–µ–º–µ
            const startTime = Date.now();
            setInterval(() => {
                const uptime = Date.now() - startTime;
                const hours = Math.floor(uptime / (1000 * 60 * 60));
                const minutes = Math.floor((uptime % (1000 * 60 * 60)) / (1000 * 60));
                document.getElementById('uptime').textContent = `${hours}—á ${minutes}–º`;
            }, 60000);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function showAddUserModal() {
            // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
            document.getElementById('addUserForm').reset();
            document.getElementById('studentFields').style.display = 'none';
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –≥—Ä—É–ø–ø –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
            loadGroupsForModal();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            const modal = new bootstrap.Modal(document.getElementById('addUserModal'));
            modal.show();
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –≥—Ä—É–ø–ø –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        async function loadGroupsForModal() {
            try {
                const response = await fetch('/api/groups', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                const result = await response.json();
                
                if (result.success) {
                    const groupSelect = document.getElementById('newGroupId');
                    groupSelect.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É</option>';
                    
                    result.data.forEach(group => {
                        const option = document.createElement('option');
                        option.value = group.id;
                        option.textContent = group.name;
                        groupSelect.appendChild(option);
                    });
                }
            } catch (error) {
                console.error('Error loading groups:', error);
            }
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–æ–ª–∏ –≤ —Ñ–æ—Ä–º–µ
        document.getElementById('newRole').addEventListener('change', function() {
            const studentFields = document.getElementById('studentFields');
            studentFields.style.display = this.value === 'student' ? 'block' : 'none';
        });

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function addNewUser() {
            const formData = {
                username: document.getElementById('newUsername').value,
                password: document.getElementById('newPassword').value,
                role: document.getElementById('newRole').value,
                student_card: document.getElementById('newStudentCard').value,
                group_id: document.getElementById('newGroupId').value
            };

            try {
                const response = await fetch('/api/auth/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify(formData)
                });

                const result = await response.json();
                
                if (result.success) {
                    alert('‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!');
                    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                    const modal = bootstrap.Modal.getInstance(document.getElementById('addUserModal'));
                    modal.hide();
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                    loadUsers();
                    loadStatistics();
                } else {
                    alert('‚ùå –û—à–∏–±–∫–∞: ' + result.error);
                }
            } catch (error) {
                console.error('Error adding user:', error);
                alert('‚ùå –û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function refreshStatistics() {
            loadStatistics();
        }

        // –ó–∞–≥–ª—É—à–∫–∏ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        function showDataManagement() { alert('–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ'); }
        function showBackupManagement() { alert('–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ'); }
        function showAnalytics() { alert('–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ'); }
        function showSecuritySettings() { alert('–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ'); }
        function clearCache() { alert('–ö—ç—à –æ—á–∏—â–µ–Ω'); }
        function optimizeDatabase() { alert('–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞'); }
        function generateReport() { alert('–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω'); }
        function showLogs() { alert('–õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã'); }
        function editUser(id) { alert('–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ' + id); }
        function deleteUser(id) { 
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?')) {
                alert('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ' + id + ' —É–¥–∞–ª–µ–Ω');
                loadUsers();
            }
        }

        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = 'login.html';
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        checkAuth();

       // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç—á–µ—Ç–æ–≤ –ø–æ —Å—Ç—É–¥–µ–Ω—Ç–∞–º
async function showStudentReportsModal() {
    const modal = new bootstrap.Modal(document.getElementById('studentReportsModal'));
    modal.show();
    
    try {
        const response = await fetch('/api/students', {
            headers: {
                'Authorization': `Bearer ${token}`
            }
        });

        const result = await response.json();
        
        if (result.success && Array.isArray(result.data)) {
            let html = '';
            result.data.forEach(student => {
                html += `
                    <tr>
                        <td>
                            <strong>${student.name}</strong>
                            <br><small class="text-muted">${student.email || ''}</small>
                        </td>
                        <td>${student.group_name || '–ù–µ —É–∫–∞–∑–∞–Ω–∞'}</td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="viewStudentReport(${student.id})" title="HTML –æ—Ç—á–µ—Ç">
                                    <i class="bi bi-eye"></i> HTML
                                </button>
                                <button class="btn btn-pdf" onclick="exportStudentToPDF(${student.id})" title="PDF –æ—Ç—á–µ—Ç">
                                    <i class="bi bi-file-pdf"></i> PDF
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            });
            document.getElementById('studentsReportsList').innerHTML = html;
        } else {
            document.getElementById('studentsReportsList').innerHTML = `
                <tr>
                    <td colspan="3" class="text-center text-muted">
                        ${result.error || '–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Å—Ç—É–¥–µ–Ω—Ç–∞—Ö'}
                    </td>
                </tr>
            `;
        }
    } catch (error) {
        console.error('Error loading students:', error);
        document.getElementById('studentsReportsList').innerHTML = `
            <tr>
                <td colspan="3" class="text-center text-muted">
                    –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö: ${error.message}
                </td>
            </tr>
        `;
    }
}

// –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç—á–µ—Ç–æ–≤ –ø–æ –≥—Ä—É–ø–ø–∞–º
async function showGroupReportsModal() {
    const modal = new bootstrap.Modal(document.getElementById('groupReportsModal'));
    modal.show();
    
    try {
        const response = await fetch('/api/groups', {
            headers: {
                'Authorization': `Bearer ${token}`
            }
        });

        const result = await response.json();
        
        if (result.success) {
            let html = '';
            result.data.forEach(group => {
                html += `
                    <tr>
                        <td>
                            <strong>${group.name}</strong>
                        </td>
                        <td>${group.curator || '–ù–µ —É–∫–∞–∑–∞–Ω'}</td>
                        <td>${group.student_count || 0}</td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="viewGroupReport(${group.id})" title="HTML –æ—Ç—á–µ—Ç">
                                    <i class="bi bi-eye"></i> HTML
                                </button>
                                <button class="btn btn-pdf" onclick="exportGroupToPDF(${group.id})" title="PDF –æ—Ç—á–µ—Ç">
                                    <i class="bi bi-file-pdf"></i> PDF
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            });
            document.getElementById('groupsReportsList').innerHTML = html;
        } else {
            document.getElementById('groupsReportsList').innerHTML = `
                <tr>
                    <td colspan="4" class="text-center text-muted">
                        –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≥—Ä—É–ø–ø
                    </td>
                </tr>
            `;
        }
    } catch (error) {
        console.error('Error loading groups:', error);
        document.getElementById('groupsReportsList').innerHTML = `
            <tr>
                <td colspan="4" class="text-center text-muted">
                    –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
                </td>
            </tr>
        `;
    }
}

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ HTML –æ—Ç—á–µ—Ç–æ–≤
function viewStudentReport(studentId) {
    const url = `/api/statistics/student/${studentId}/html`;
    window.open(url, '_blank');
}

function viewGroupReport(groupId) {
    const url = `/api/statistics/group/${groupId}/html`;
    window.open(url, '_blank');
}

    </script>
    <script src="/js/pdf-export.js"></script>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç—á–µ—Ç–æ–≤ –ø–æ —Å—Ç—É–¥–µ–Ω—Ç–∞–º -->
<div class="modal fade" id="studentReportsModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="bi bi-file-pdf"></i> PDF –æ—Ç—á–µ—Ç—ã –ø–æ —Å—Ç—É–¥–µ–Ω—Ç–∞–º</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>–°—Ç—É–¥–µ–Ω—Ç</th>
                                <th>–ì—Ä—É–ø–ø–∞</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="studentsReportsList">
                            <tr>
                                <td colspan="3" class="text-center">
                                    <div class="spinner-border" role="status">
                                        <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                                    </div>
                                    <p class="mt-2">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤...</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç—á–µ—Ç–æ–≤ –ø–æ –≥—Ä—É–ø–ø–∞–º -->
<div class="modal fade" id="groupReportsModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="bi bi-file-pdf"></i> PDF –æ—Ç—á–µ—Ç—ã –ø–æ –≥—Ä—É–ø–ø–∞–º</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>–ì—Ä—É–ø–ø–∞</th>
                                <th>–ö—É—Ä–∞—Ç–æ—Ä</th>
                                <th>–ö–æ–ª-–≤–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="groupsReportsList">
                            <tr>
                                <td colspan="4" class="text-center">
                                    <div class="spinner-border" role="status">
                                        <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                                    </div>
                                    <p class="mt-2">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –≥—Ä—É–ø–ø...</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>